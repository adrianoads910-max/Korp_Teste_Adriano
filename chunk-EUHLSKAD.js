import{c as S,d as C,f as v}from"./chunk-KGSE3KCW.js";import{a as w,b as x,c as M,d as _,e as k,f as L,h as E,i as N}from"./chunk-P2PZAMAP.js";import{Ba as c,La as h,Ma as e,Na as i,Qa as f,Ua as r,Wa as b,Ya as m,Za as s,_a as g,pa as a,sb as y,xa as d}from"./chunk-MMYL3GOO.js";var R=class u{constructor(l,o){this.authService=l;this.router=o}email="";senha="";loading=!1;login(){this.loading=!0,this.authService.login(this.email,this.senha).subscribe({next:l=>{console.log("\u2705 Login realizado!"),localStorage.setItem("authenticated","true"),this.loading=!1,this.router.navigate(["/produtos/listar"])},error:l=>{this.loading=!1,alert("\u274C Credenciais inv\xE1lidas")}})}static \u0275fac=function(o){return new(o||u)(d(v),d(S))};static \u0275cmp=c({type:u,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"flex","justify-center","items-center","h-screen","bg-gray-100","dark:bg-gray-900"],[1,"bg-white","dark:bg-gray-800","p-10","rounded-xl","shadow-lg","w-96"],[1,"text-2xl","font-bold","text-center","mb-6","dark:text-white"],[3,"ngSubmit"],[1,"block","mb-2","text-gray-700","dark:text-gray-200"],["type","email","name","email","required","",1,"w-full","p-2","mb-4","rounded","border","dark:bg-gray-900","dark:text-white",3,"ngModelChange","ngModel"],["type","password","name","senha","required","",1,"w-full","p-2","mb-6","rounded","border","dark:bg-gray-900","dark:text-white",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","rounded-lg","hover:bg-blue-700","transition",3,"disabled"],[1,"text-center","text-sm","mt-4","dark:text-gray-300"],["routerLink","/register",1,"text-blue-600","hover:underline"]],template:function(o,t){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Login"),i(),e(4,"form",3),f("ngSubmit",function(){return t.login()}),e(5,"label",4),r(6,"Email"),i(),e(7,"input",5),g("ngModelChange",function(n){return s(t.email,n)||(t.email=n),n}),i(),e(8,"label",4),r(9,"Senha"),i(),e(10,"input",6),g("ngModelChange",function(n){return s(t.senha,n)||(t.senha=n),n}),i(),e(11,"button",7),r(12),i()(),e(13,"p",8),r(14," N\xE3o possui conta? "),e(15,"a",9),r(16,"Registrar"),i()()()()),o&2&&(a(7),m("ngModel",t.email),a(3),m("ngModel",t.senha),a(),h("disabled",t.loading),a(),b(" ",t.loading?"Entrando...":"Entrar"," "))},dependencies:[y,N,L,w,x,M,E,k,_,C],encapsulation:2})};export{R as LoginComponent};
