import{a as w,b as F}from"./chunk-COK4W544.js";import{Ba as y,Fa as b,La as l,Ma as i,Na as a,Pa as _,Qa as g,Ra as d,Ua as n,Wa as x,X as p,Xa as h,Y as u,ab as v,pa as s,pb as N,qb as S,sb as C,xa as f}from"./chunk-MMYL3GOO.js";var E=(o,e,t)=>({"bg-green-100 text-green-700":o,"bg-yellow-100 text-yellow-700":e,"bg-red-100 text-red-700":t});function I(o,e){if(o&1&&(i(0,"li"),n(1),a()),o&2){let t=e.$implicit;s(),h(" ",t.codigoProduto," (Qtd: ",t.quantidade,") ")}}function O(o,e){if(o&1){let t=_();i(0,"tr",7)(1,"td",8),n(2),a(),i(3,"td",4)(4,"span",9),n(5),a()(),i(6,"td",10)(7,"ul",11),b(8,I,2,2,"li",12),a()(),i(9,"td",13)(10,"button",14),g("click",function(){let c=p(t).$implicit,m=d();return u(m.imprimir(c.numero))}),n(11," Imprimir "),a(),i(12,"button",15),g("click",function(){let c=p(t).$implicit,m=d();return u(m.cancelar(c.numero))}),n(13," Cancelar "),a()()()}if(o&2){let t=e.$implicit,r=d();s(2),x(" ",t.numero," "),s(2),l("ngClass",v(6,E,t.status===r.StatusNota.Fechada,t.status===r.StatusNota.Aberta,t.status===r.StatusNota.Cancelado)),s(),x(" \u25CF ",t.status===r.StatusNota.Aberta?"Aberta":t.status===r.StatusNota.Fechada?"Fechada":"Cancelada"," "),s(3),l("ngForOf",t.itens),s(2),l("disabled",t.status!==r.StatusNota.Aberta),s(2),l("disabled",t.status!==r.StatusNota.Aberta)}}var k=class o{constructor(e){this.notasService=e}notas=[];StatusNota=w;ngOnInit(){this.notasService.listar().subscribe(e=>{this.notas=e})}imprimir(e){this.notasService.imprimir(e).subscribe({next:t=>{alert("\u2705 Nota impressa e fechada!"),this.ngOnInit()},error:t=>{alert("\u274C Erro ao imprimir nota: "+(t?.error?.erro??t.message))}})}cancelar(e){confirm("Deseja cancelar esta nota?")&&this.notasService.cancelar(e).subscribe({next:()=>{alert("\u2705 Nota cancelada com sucesso!"),this.ngOnInit()},error:t=>{alert("\u274C Erro: "+(t?.error?.erro??t.message))}})}static \u0275fac=function(t){return new(t||o)(f(F))};static \u0275cmp=y({type:o,selectors:[["app-lista-notas"]],decls:16,vars:1,consts:[[1,"max-w-5xl","mx-auto","p-6"],[1,"text-3xl","font-bold","mb-6","dark:text-white"],[1,"min-w-full","bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","overflow-hidden"],[1,"bg-gray-200","dark:bg-gray-700","text-left","text-gray-700","dark:text-gray-200"],[1,"px-4","py-3"],[1,"px-4","py-3","text-center"],["class","border-t dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 transition",4,"ngFor","ngForOf"],[1,"border-t","dark:border-gray-700","hover:bg-gray-100","dark:hover:bg-gray-700","transition"],[1,"px-4","py-3","font-semibold","dark:text-white"],[1,"px-3","py-1","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"px-4","py-3","dark:text-gray-200"],[1,"list-disc","ml-5","space-y-1"],[4,"ngFor","ngForOf"],[1,"px-4","py-3","flex","items-center","gap-3","justify-center"],[1,"px-3","py-1","text-sm","font-semibold","rounded-lg","bg-blue-600","text-white","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-1","text-sm","font-semibold","rounded-lg","bg-red-600","text-white","hover:bg-red-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"h2",1),n(2,"Notas Fiscais"),a(),i(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),n(7,"N\xFAmero"),a(),i(8,"th",4),n(9,"Status"),a(),i(10,"th",4),n(11,"Itens"),a(),i(12,"th",5),n(13,"A\xE7\xF5es"),a()()(),i(14,"tbody"),b(15,O,14,10,"tr",6),a()()()),t&2&&(s(15),l("ngForOf",r.notas))},dependencies:[C,N,S],encapsulation:2})};export{k as ListaNotasComponent};
